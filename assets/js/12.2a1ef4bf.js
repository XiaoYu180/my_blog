(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{532:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZwAAAA/CAYAAADUvn7NAAAG7ElEQVR4nO3dz27cRBzA8d86bhUhaIFyQBxARXBBXBAXbiw9VELi3BJx5xl4Bt6AF4BH4LoXVHGKoM0BIZS2BFQoVFRJqUJbD6dtncn8sz2eGXu/HylSZHvGP4/tGY899i4ODg6UUkquX78uV65cEQAAxlCJiCilRCmVOxYAwIxVuQMAAGwGGhwAQBL1tSOR7+6L3LmbOxQAwJzVX98TuXcs8kqTOxQAwJxVf/0nIo3IS3XuUAAAc1ZdqBr55GWRj87nDgUAMGfVu2eeyOXzSs5v5Q4FADBn1aXH9+SFRbx3cFarVbS8cph6/ABQqurNf+7KVtPIQp41OqvV6tRfqOVyaV3elF+fdYzJFX/bmPEOLY+SyjO1WNvty2dTyzeFTT5+566ubx1I89bFpxNWq5Usl8sTC8Xa+evKvJ2/adqcrMturttXmqHHEw0NMJ7q8S+35NH3uyL3D3PHMjkhlU+fim+5XA5qoIamFxm/Yh0z/9Beqi2tq+xilC3cKOP5qtTRv1Jd2xW197P1ytA0zdXtHXLCl8AX/5x7ZHMx9WMQmKP6eOusnDl6IPLkOHcsT5kqinYFr89fz2tP1yscV3p9/lCuZ1g2tm0wpQ/dNts2ubZff77miq1PDK78bfF1Xb++jCv/Mfa7qSxM8YYen6kubobGF+P863P86mlDjg3kUX/zwWV558ddaR7ckVc7JBxrJ/oqCNv8djd83fuyVaKxnlGZKjRX/vrypv9NMevrc63Tld4Xn55eX65P+Zqe2dnyd8UXun91rjJ3xdGHqVfVnjbk+AyN0XXXwTdfL6sux3es86/v8duOf8x9jGHqv19/Q77cfk0u/vaDfBEx45iDAfo+BwlN3+XqeC3n7ZrYJ0/M8vVdycYSun9tDd56Xi5djs+++faZP0YcqWOicSlX/fujSh5unZGjs9u5YxER+1Vi25CKIiR/F9PV05QM3f4Qtlsbqbl6USL547PJ3RCuy81XfkPy16dhM9S/Pqqk2VpIVW8573n3vQruk9a3/qEHaOj2hcQfsyeXSqz9a1JKWXS5ZVeaucc35vGHslUPn4g8V4m8b/mWmuvEHeNKrE+eXdKkvnos7Qp67PLtky52GYVWYCn2TYx1pD6Gul5ElXz+oSyLS9/eVh++qOTtP2/I559dFZFuI0V8B2XIQ3rfLarQ9H3SmpbRlzfl32WaawCAa5mY62pvj2t+m+lhd0ha03b5ljNN19cRun9DjklbfDHKL2Sf2NKa1pHj6r/L88uY51+s8981Dfksvtq9rd57XskfP92QnU+vjrKSqXeZpx4/AJSg/viCiFIidxe5QwEAzFmVYiVT7x1MPX4AKEElIqKUEqXi/UQBAAC6JD0cAACMDc56yPPQoc+utDGGVTPEEgCmo9YnxHjx09cQ6EONuz4joaEBgOkZ5ZZa+0N+uhhfDXDlDwAoE89wAABJnLqllqrnwBvAALBZTjU4ujHesuf3KgBg8zhvqY3VENC4AMDmsTY49DoAADFZ38OhsQEAxFTpn7Xx/ZzA0Bc2fZ9rH+t3dgAAedXrBkdvdIbQGyiR079xPmSUmi9/AEB5Fjdv3lRN08je3p7s7OzkjgcAMFP14eGhNE0jx8fHuWMBAMxYfe7cOWmaRra3t3PHAgCYMT5tAwBIInqDM/URZlOPHwBKZfy0janSDR0Fth6BZlreNDKttG+queJvG/NdpaEj7zZ55B7vkAHlOtXDWZ+w7b9Y1nmZfp5grpUE7xWl5XvPC0A+PMMZIKRiy/F7PzEuFMautMfMn0YHKNOJBsd2O8J2e8x2Uk/9hA/5GsJce2RzMfVjEJgj788T5OB7hqTPtz0Psj0fGvKMKoStonNVgCHPtNrPZkK2zfWrqyHr158F9Slf32eSfMv0Wb++DBcHQBnqpmlOfdomxJgPzH2VlGl++zbSuvdlq0R9FVwoU4Xmyl9f3vS/KWZ9fa51utL74tPT68v1KV/bT4q7BpYM2b86Gh2gHKM9w4l5S6Pvc5DQ9K6rY5ucgwFiV54xy9fXk4wldP/S2ADlKO6Wmqmij9UjCc3fxXQFPyVDtz+E7dZfajQ2QFlONDi22w99T9y+tzN86x9aiYRuX0j8U7xlE2v/mpRSFqXEAeAZ7y011732Ma5e++TZJU3qK+7SekBjl2+fdLHLiMYGKNNif39fKaVO/DxBl5FOfd7Id93SCRlBFjKKKTStaRl9edcIspBprgEArmVirqu9Pa75ba5Raq60pu3yLWearq8jdP/S2ABlMjY4sU29Eph6/ABQAr40AABIIkmDM/XewdTjB4AS0MMBACRBgwMASKISkV6ftgEAoAt6OACAJGhwAABJ0OAAAJKgwQEAJPE/EtmuEa9+DRsAAAAASUVORK5CYII="},533:function(s,t,a){s.exports=a.p+"assets/img/image-20220516153127091.03c1db22.png"},534:function(s,t,a){s.exports=a.p+"assets/img/image-20220516153559225.48ea7e65.png"},626:function(s,t,a){"use strict";a.r(t);var n=a(29),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"pytest自动化测试框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pytest自动化测试框架"}},[s._v("#")]),s._v(" pytest自动化测试框架")]),s._v(" "),n("h2",{attrs:{id:"代码地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码地址"}},[s._v("#")]),s._v(" 代码地址")]),s._v(" "),n("p",[s._v("https://github.com/xiaorui16888/AutoTest_Note")]),s._v(" "),n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),n("p",[s._v("pytest是一个非常成熟的python的单元框架，比unittest更灵活。")]),s._v(" "),n("h2",{attrs:{id:"特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),n("p",[s._v("pytest可以和selenium，requests，appium结合实现web自动化，接口自动化，app自动化。")]),s._v(" "),n("p",[s._v("pytest可以实现测试用例的跳过以及reruns失败用例重试。")]),s._v(" "),n("p",[s._v("pytest可以和allure生成非常美观的测试报告。")]),s._v(" "),n("p",[s._v("pytest可以和Jenkins持续集成。")]),s._v(" "),n("h2",{attrs:{id:"插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[s._v("#")]),s._v(" 插件")]),s._v(" "),n("p",[s._v("pytest有很多非常强大的插件，并且这些插件能够实现很多的实用的操作。")]),s._v(" "),n("p",[s._v("pytest-xdist：测试用例多线程或分布式执行")]),s._v(" "),n("p",[s._v("pytest-ordering：用于改变测试用例的执行顺序（从上到下）")]),s._v(" "),n("p",[s._v("pytest-rerunfailures：用例失败后重跑")]),s._v(" "),n("p",[s._v("pytest-html：生成html格式的自动化测试报告")]),s._v(" "),n("p",[s._v("allure-pytest：用于生成美观的测试报告")]),s._v(" "),n("h2",{attrs:{id:"测试用例规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试用例规则"}},[s._v("#")]),s._v(" 测试用例规则")]),s._v(" "),n("p",[s._v("1.模块名必须以"),n("code",[s._v("test_")]),s._v("开头或者"),n("code",[s._v("_test")]),s._v("结尾")]),s._v(" "),n("p",[s._v("2.测试类必须以"),n("code",[s._v("Test")]),s._v("开头，并且不能有"),n("code",[s._v("init")]),s._v("方法")]),s._v(" "),n("p",[s._v("3.测试方法必须以"),n("code",[s._v("test")]),s._v("开头")]),s._v(" "),n("h2",{attrs:{id:"运行方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行方式"}},[s._v("#")]),s._v(" 运行方式")]),s._v(" "),n("h3",{attrs:{id:"主函数模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主函数模式"}},[s._v("#")]),s._v(" 主函数模式")]),s._v(" "),n("p",[s._v("1.运行所有")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("2.指定模块")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-vs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test_login.py'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("3.指定目录")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-vs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./interface_testcase'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("4.通过nodeid指定用例运行：nodeid由模块名，分隔符，类名，方法名，函数名组成。")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-vs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./interface_testcase/test_interface.py::test_04_func'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"命令行模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行模式"}},[s._v("#")]),s._v(" 命令行模式")]),s._v(" "),n("p",[s._v("1.运行所有")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("pytest\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("2.指定模块")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("pytest -vs test_login.py\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("3.指定目录")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("pytest -vs ./interface_testcase\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("4.指定nodeid")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("\npytest -vs./interface_testcase/test_interface.py::test_04_func\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"参数详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参数详解"}},[s._v("#")]),s._v(" 参数详解")]),s._v(" "),n("blockquote",[n("p",[s._v("-s：表示输出调试信息，包括print打印的信息")]),s._v(" "),n("p",[s._v("-v：显示更详细的信息")]),s._v(" "),n("p",[s._v("-vs：这两个参数一起用")]),s._v(" "),n("p",[s._v("-n：支持多线程或者分布式运行测试用例。如：pytest-vs./testcase/test_login.py-n2")]),s._v(" "),n("p",[s._v("--reruns NUM：失败用例重跑")]),s._v(" "),n("p",[s._v("-x：表示只要要一个用例报错，那么测试停止。")]),s._v(" "),n("p",[s._v("--maxfail=2出现两个用例失败就停止。")]),s._v(" "),n("p",[s._v("-k：根据测试用例的部分字符串指定测试用例。")]),s._v(" "),n("p",[s._v('如：pytest-vs./testcase-k"ao"')]),s._v(" "),n("p",[s._v("--html  ./report/report.html：生成html的测试报告。")]),s._v(" "),n("p",[s._v("-m xxx ：表示只运行xxx标签的用例")])]),s._v(" "),n("h3",{attrs:{id:"通过读取pytest-ini全局配置文件运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过读取pytest-ini全局配置文件运行"}},[s._v("#")]),s._v(" 通过读取pytest.ini全局配置文件运行")]),s._v(" "),n("p",[n("code",[s._v("pytest.ini")]),s._v("这个文件它是pytest单元测试框架的核心配置文件。")]),s._v(" "),n("p",[s._v("1.位置：一般放在项目的根目录")]),s._v(" "),n("p",[s._v("2.编码：必须是"),n("code",[s._v("ANSI")]),s._v("，可以使用notpad++修改编码格式。")]),s._v(" "),n("p",[s._v("3.作用：改变pytest默认的行为。")]),s._v(" "),n("p",[s._v("4.运行的规则：不管是主函数的模式运行，命令行模式运行，都会去读取这个配置文件。")]),s._v(" "),n("div",{staticClass:"language-ini line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ini"}},[n("code",[n("span",{pre:!0,attrs:{class:"token section"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("pytest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("addopts")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("-vs #命令行的参数，用空格分隔")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("testpaths")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("./testcase #测试用例的路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("python_files")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("test_*.py #模块名的规则")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("python_classes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Test* #类名的规则")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("python_functions")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("test #方法名的规则")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("markers")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("\n\tsmoke:冒烟用例\n\tusermanage:用户管理模块\n\twechat:微信模块\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"pytest执行测试用例的顺序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pytest执行测试用例的顺序"}},[s._v("#")]),s._v(" pytest执行测试用例的顺序")]),s._v(" "),n("p",[s._v("默认从上到下")]),s._v(" "),n("p",[s._v("若需要改变执行顺序：使用mark标记")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"如何分组执行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何分组执行"}},[s._v("#")]),s._v(" 如何分组执行")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("pytest -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"smoke"')]),s._v("\npytest -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"smoke or usermanage or wechat"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"跳过测试用例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跳过测试用例"}},[s._v("#")]),s._v(" 跳过测试用例")]),s._v(" "),n("h3",{attrs:{id:"无条件跳过"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#无条件跳过"}},[s._v("#")]),s._v(" 无条件跳过")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("skip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reason"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"无条件"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"有条件跳过"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有条件跳过"}},[s._v("#")]),s._v(" 有条件跳过")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("skip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("reason"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"已成年"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"前后置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前后置"}},[s._v("#")]),s._v(" 前后置")]),s._v(" "),n("h3",{attrs:{id:"setup、teardown、setup-class、teatdown-class"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#setup、teardown、setup-class、teatdown-class"}},[s._v("#")]),s._v(" setup、teardown、setup_class、teatdown_class")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestUser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup_class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'每个类之前执行一次'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'在每个类执行前的初始化的工作：比如：创建日志对象，创建数据库的连接，创建接口的请求对象。'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("teardown_class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'每个类之后执行一次'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'在每个类执行后的扫尾的工作：比如：销毁日志对象，销毁数据库的连接，销毁接口的请求对象。'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'每个用例之前执行一次'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'在执行测试用例之前初始化的代码：打开浏览器，加载网页'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("teardown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'每个用例之后执行一次'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'在执行测试用例之后的扫尾的代码：关闭浏览器'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("test_01_login")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test_01_login'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h3",{attrs:{id:"pytest-fixture-装饰器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pytest-fixture-装饰器"}},[s._v("#")]),s._v(" @pytest.fixture()装饰器")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fixture")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scope"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("params"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("autouse"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ids"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("scope：@pytest.fixture标记的方法的作用域。")]),s._v(" "),n("p",[s._v("function(默认)，class，module，package/session.")]),s._v(" "),n("p",[s._v("params：参数化（支持，列表[]，元祖()，字典列表[{},{},{}]，字典元祖({},{},{})")]),s._v(" "),n("p",[s._v("autouse=True：自动使用，默认False")]),s._v(" "),n("p",[s._v("ids：当使用params参数化时，给每一个值设置一个变量名。一般是用不到的~")]),s._v(" "),n("p",[s._v("name：给表示的是被@pytest.fixture标记的方法取一个别名。当取了别名之后，之前的名称就不可以使用了。")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" pytest\n\n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fixture")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scope"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'function'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" params"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("my_fixture")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("param"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'执行sql语句'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("param\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关闭数据库连接'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestUser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("test_d")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" my_fixture"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test_d==='")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" my_fixture"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"通过conftest-py和-pytest-fixture-结合使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通过conftest-py和-pytest-fixture-结合使用"}},[s._v("#")]),s._v(" 通过conftest.py和@pytest.fixture()结合使用")]),s._v(" "),n("p",[s._v("如：全局登录，模块的全局处理")]),s._v(" "),n("p",[s._v("1.conftest.py文件是单独存放的一个夹具配置文件，名称是不能更改。")]),s._v(" "),n("p",[s._v("2.用处可以在不同的py文件中使用同一个fixture函数。")]),s._v(" "),n("p",[s._v("3.原则上conftest.py需要和运行的用例放到统一层。并且不需要做任何的imprt导入的操作。")]),s._v(" "),n("h3",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("p",[s._v("setup/teardown，setup_class/teardown_class它是作用于所有用例或者所有的类")]),s._v(" "),n("p",[s._v("@pytest.fixtrue()它的作用是既可以部分也可以全部前后置。")]),s._v(" "),n("p",[s._v("conftest.py和@pytest.fixtrue()结合使用，作用于全局的前后置。")]),s._v(" "),n("h2",{attrs:{id:"allure-pytest插件-测试报告"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#allure-pytest插件-测试报告"}},[s._v("#")]),s._v(" allure-pytest插件（测试报告）")]),s._v(" "),n("p",[s._v("使用allure，不仅需要"),n("code",[s._v("pip install allure-pytest")]),s._v("，还需要安装allure，并且配置环境变量。")]),s._v(" "),n("p",[s._v("1.下载，解压，配置path路径。")]),s._v(" "),n("p",[s._v("https://github.com/allure-framework/allure2/releases")]),s._v(" "),n("p",[s._v("2.打开cmd，"),n("code",[s._v("allure --version")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(532),alt:"image-20220516152050385"}})]),s._v(" "),n("p",[s._v("这样就ok了")]),s._v(" "),n("p",[s._v("如果cmd窗口验证成功，pycharm提示找不到allure，重启pycharm即可")]),s._v(" "),n("p",[s._v("3.加入命令生成json格式的临时报告。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("--alluredir ./temp\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("4.生成allure报告")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("os.system"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'allure generate ./temp -o ./report --clean'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"pytest-mark-parametrize-基本用法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pytest-mark-parametrize-基本用法"}},[s._v("#")]),s._v(" @pytest.mark.parametrize()基本用法")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parametrize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("args_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("args_value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("args_name：参数名")]),s._v(" "),n("p",[s._v("args_value：参数值(列表，元祖，字典列表，字典元祖)，有多个值用例就会执行多少次")]),s._v(" "),n("h3",{attrs:{id:"方式一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parametrize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'caseInfo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小王'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小灰'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("test_parametrize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" caseInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("caseInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:a(533),alt:"image-20220516153127091"}})]),s._v(" "),n("h3",{attrs:{id:"方式二"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),n("p",[s._v("跟unittest里面的"),n("code",[s._v("ddt")]),s._v("--"),n("code",[s._v("@unpack")]),s._v("解包一样")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@pytest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parametrize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name,age'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'21'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小王'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'22'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小林'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'23'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("test_02")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:a(534),alt:"image-20220516153559225"}})]),s._v(" "),n("h2",{attrs:{id:"yaml文件-实现接口自动化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yaml文件-实现接口自动化"}},[s._v("#")]),s._v(" YAML文件--实现接口自动化")]),s._v(" "),n("p",[s._v("1、可以做配置文件")]),s._v(" "),n("p",[s._v("2、可以写测试用例（接口测试）")]),s._v(" "),n("p",[s._v("yaml是一种数据格式，支持注释，换行，多行字符串，裸字符串（整形，字符串）。")]),s._v(" "),n("h3",{attrs:{id:"语法规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#语法规则"}},[s._v("#")]),s._v(" 语法规则")]),s._v(" "),n("p",[s._v("1.区分大小写")]),s._v(" "),n("p",[s._v("2.使用缩进表示层级，不能使用tab键缩进，只能用空格（和python一样）")]),s._v(" "),n("p",[s._v("3.缩进没有数量的，只要前面是对其的就行。")]),s._v(" "),n("p",[s._v("4.注释是 "),n("code",[s._v("#")])]),s._v(" "),n("p",[s._v("其实我用tab键已经习惯了，在pycharm里面用tab代替空格好像也没事...")]),s._v(" "),n("h3",{attrs:{id:"数据组成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据组成"}},[s._v("#")]),s._v(" 数据组成")]),s._v(" "),n("p",[s._v("Map对象，键值对")]),s._v(" "),n("p",[s._v("List数组，"),n("code",[s._v("-")]),s._v("开头")]),s._v(" "),n("h3",{attrs:{id:"代码实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[s._v("#")]),s._v(" 代码实现")]),s._v(" "),n("p",[s._v("这里其实没什么用文字去叙述的，我直接贴代码了")]),s._v(" "),n("p",[n("strong",[s._v("读写yaml工具类")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" yaml\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReadConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" yaml_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml_file "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yaml_file\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("read_yaml")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" encoding"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            file_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yaml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("stream"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FullLoader"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write_yaml")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" encoding"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            yaml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dump"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" stream"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" allow_unicode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rc = ReadConfig('config.yaml')")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rc.read_yaml()")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rc.write_yaml({'User': {'name': '小睿', 'age': 24}})")]),s._v("\n\n    api_config "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ReadConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'api.yaml'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    api_config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read_yaml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[n("strong",[s._v("测试用例类")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: UTF-8 -*-")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n@Project ：PythonAutoTest \n@File    ：inter.py\n@IDE     ：PyCharm \n@Author  ：胖妞\n@Date    ：2022/5/15 13:31\n"""')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" json\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" unittest\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" requests\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ddt "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ddt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" file_data\n\n\n"),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@ddt")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Inter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unittest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TestCase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@file_data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'api.yaml'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("test_01_get_token")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),s._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        url "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        params "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'params'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        headers "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'headers'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        resp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" requests"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" params"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("params"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" headers"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        result_dict "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loads"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 预期结果")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'assert': {'eq': {'expires_in': 7200}}")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("assertEqual"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kwargs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'assert'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eq'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'expires_in'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result_dict"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'expires_in'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    unittest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("p",[n("strong",[s._v("config.yaml")])]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("age")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 小睿\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("strong",[s._v("api.yaml")])]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 获取鉴权码接口\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//api.weixin.qq.com/cgi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("bin/token\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("method")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" get\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("headers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Accept")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*/*'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Content-Type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/json'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("params")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("grant_type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" client_credential\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("appid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wxcf90023b26f51211\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("secret")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 997b02c7551e854d7b6c69188d022098\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("assert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eq")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expires_in")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7200")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h2",{attrs:{id:"结语"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[s._v("#")]),s._v(" 结语")]),s._v(" "),n("p",[s._v("其实我感觉自动化测试中，接口测试是最好做的。web、app自动化，封装一些常用的方法，接下来就是寻找元素，控制元素，断言...")]),s._v(" "),n("p",[s._v("知识还是需要去用文字沉淀的。加油！")])])}),[],!1,null,null,null);t.default=e.exports}}]);